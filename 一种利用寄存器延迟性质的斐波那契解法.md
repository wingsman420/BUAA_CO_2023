# 一种利用寄存器延迟性质的斐波那契解法

## 本篇仅为思路分享！！不提供答案！！没有捷径！！！

> 作者：李春宇
>
> 2023.9

> 一种神奇到有点搞笑的解法，想在此分享，希望各位一起讨论并改进**（求加精QAQ）**

众所周知，寄存器由于存在延迟，无法将输入的数据瞬间输出，所以会有输入线于输出线所传输数据不同的现象，很多时候这是一种弊端，**但是**，我们可以在这道题的情境下利用它。

### 话不多说，上图！

![Logisim_ main of Untitled 2023_9_9 17_22_22](C:\Users\李春宇\Videos\Captures\Logisim_ main of Untitled 2023_9_9 17_22_22.png)

那么为了只展示这个解法的核心思路而不完全提供答案，这里只展示出了斐波那契的计算部分。

目前我给左侧的寄存器赋初值为1，**这种状态下，如果动一次计时器会发生什么?**

没错，1会传递给右侧寄存器，但问题来了，左侧寄存器会怎样？

**因为存在延迟，左侧的值为0+1=1！，而不是1+1=2！**

接着往后看

![Logisim_ main of Untitled 2023_9_9 17_29_13](C:\Users\李春宇\Videos\Captures\Logisim_ main of Untitled 2023_9_9 17_29_13.png)

![Logisim_ main of Untitled 2023_9_9 17_29_47](C:\Users\李春宇\Videos\Captures\Logisim_ main of Untitled 2023_9_9 17_29_47.png)

![Logisim_ main of Untitled 2023_9_9 17_29_57](C:\Users\李春宇\Videos\Captures\Logisim_ main of Untitled 2023_9_9 17_29_57.png)

![Logisim_ main of Untitled 2023_9_9 17_30_09](C:\Users\李春宇\Videos\Captures\Logisim_ main of Untitled 2023_9_9 17_30_09.png)

不出所料，跑起来了！至此，我们利用寄存器的**延迟特性**，实现了斐波那契数列的计算。

## 进一步问题探索

那么，接下来我想与各位讨论的便是如何改进这一电路。

这电路存在如下问题：

* 每个时间周期只进行一次计算，无法满足这道题后一问快速计算的要求

* 寄存器使用了两个，能否利用这一延迟特性使得再减少使用一个寄存器

* Fy同学指出，这一电路利用了延迟特性，只是在logisim这一仿真软件中运行。现实中能否在物理层面实现这一电路？

  ## 假如，我是说假如，我们使用许多寄存器，那我们是不是可以用空间换时间，一个时间周期内计算多个斐波那契数，实现快速计算？

  

欢迎各位讨论！



## p.s. Verilog实现上述电路结果

> 代码实现：符悦

![aed5997b43d11e758b22d1f66d8d948](C:\Users\李春宇\Desktop\aed5997b43d11e758b22d1f66d8d948.jpg)
